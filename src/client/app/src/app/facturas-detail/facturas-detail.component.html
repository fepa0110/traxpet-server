<div *ngIf="factura">
    <div class="alert alert-primary alert-dismissible fade show" role="alert" *ngIf="showMessage">
        <i class="fas fa-info-circle pe-2"></i>
        {{ alertMessage }}
        <button type="button" (click)="closeAlert()" 
            class="btn-close">
        </button>
    </div>

    <h2 class="pb-2 text-center"><u>Detalle de factura</u></h2>
    <div class="d-flex flex-row border border-secondary text-center justify-content-around" name="headerFactura">
        <div class="p-2 border border-rigth">
            <label class="text-muted text-uppercase">Numero de factura</label>
            <p class="text-center">{{ factura.factura }}</p>
        </div>

        <div class="p-2 border border-rigth">
            <label class="text-muted text-uppercase">Fecha de emision</label>
            <p class="text-center">{{ fechaEmisionString }}</p>
        </div>

        <div class="p-2 border border-right">
            <label class="text-muted text-uppercase">Fecha de pago</label>
            <p class="text-center">{{ fechaPagoString != null ? fechaPagoString : "Pago pendiente" }}</p>
            <a type="button" *ngIf="factura.fechaPago == null" (click)="abonar(factura)">
                <i class="fas fa-hand-holding-usd text-danger" placement="top" ngbTooltip="Abonar">
                </i>
            </a>
        </div>

        <div class="p-2">
            <label class="text-muted text-uppercase">Total facturado</label>
            <h3 class="text-primary text-center">${{ totalFacturado.totalFacturado }}</h3>
        </div>

    </div>

    <div class="d-flex flex-row pt-2">
        <h3 class="p-2">
            <u>
                Cliente
            </u>
        </h3>
        <a class="pl-2 pt-3" routerLink="/clientes/view/{{factura.cliente.cliente}}">
            <i class="fas fa-user text-center text-primary" placement="top" ngbTooltip="Ir al cliente"></i>
        </a>  
    </div>
    
    <div class="d-flex flex-row justify-content-around border border-secondary text-center" name="clienteData">
        <div class="p-2">
            <label class="text-muted text-uppercase">Cliente N°</label>
            <p>{{ factura.cliente.cliente }}</p>
        </div>

        <div class="p-2">
            <label class="text-muted text-uppercase">Cuit</label>
            <p>{{ factura.cliente.cuit }}</p>
        </div>

        <div class="p-2">
            <label class="text-muted text-uppercase">Razon social</label>
            <p>{{ factura.cliente.razonSocial }}</p>
        </div>

    </div>

    <br />
    <div class="table">
        <h3><u>Articulos</u></h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="text-center">Articulo</th>
                    <th class="text-center">Cantidad</th>
                    <th class="text-center">Precio de articulo</th>
                    <th class="text-center">Precio por cantidad</th>
                    <th class="text-center">Pedido</th>
                    <th class="text-center">Remito</th>
                </tr>
            </thead>
            <tr *ngFor="let articuloPedido of articulosPedido; index as i">
                <td class="text-center">{{ articuloPedido.articulo.nombre }}</td>
                <td class="text-center">{{ articuloPedido.cantidad }}</td>
                <td class="text-center">${{ articuloPedido.precio }}</td>
                <td class="text-center">${{ articuloPedido.cantidad * articuloPedido.precio }}</td>
                <td class="text-center">{{ articuloPedido.pedido.pedido }}
                    <a routerLink="/pedidos/view/{{articuloPedido.pedido.pedido}}">
                        <i class="fa fa-eye" placement="top" ngbTooltip="Ver pedido"></i>
                    </a>
                </td>
                <td class="text-center"> {{ articuloPedido.remito.remito }}
                    <a routerLink="/remitos/{{articuloPedido.remito.remito}}">
                        <i class="fa fa-eye" placement="top" ngbTooltip="Ver remito"></i>
                    </a>
                </td>
            </tr>
        </table>
    </div>

    <br />
    <div class="text-center pb-4">
        <button (click)="goBack()" class="btn btn-outline-primary">Atrás</button>
    </div>
</div>